<!-- Update file: app/llm/ai_agents/configs/agents.yaml -->
# DocEX Agent Configuration - Model-Capability-Driven with Full Validation
# Version: 1.1.0 - Production Ready
# Date: 2025-01-09

agents:
  data_extraction_agent:
    description: "Multi-model stakeholder extraction with automatic strategy selection"
    
    model_strategies:
      
      native_structured:
        description: "GPT-4o native function calling for premium quality"
        applicable_models:
          - "openai/gpt-4o"
          - "gpt-4o"
        capabilities:
          json_ld_support: true
          function_calling: true
          structured_output: true
          accuracy_tier: "premium"
        validation_results:
          gpt4o_test:
            success_rate: 100
            stakeholder_extraction: "excellent"
            json_ld_compliance: "perfect"
            avg_confidence: 0.90
            cost_per_1k_tokens: "$0.0025"
            tested_date: "2025-01-08"
        
      json_mode_guided:
        description: "DeepSeek JSON mode with guided prompting for cost-effectiveness"
        applicable_models:
          - "deepseek/DeepSeek-V3-0324"
        capabilities:
          json_ld_support: true
          json_mode: true
          structured_output: true
          accuracy_tier: "high"
        validation_results:
          deepseek_test:
            success_rate: 100
            stakeholder_extraction: "excellent"
            json_ld_compliance: "perfect"
            avg_confidence: 0.95
            cost_per_1k_tokens: "$0.00027"
            tested_date: "2025-01-08"
            
      ollama_structured:
        description: "Local Llama3.1 8B for privacy and cost-free processing"
        applicable_models:
          - "llama3.1:8b-instruct-q8_0"
        capabilities:
          json_ld_support: true
          local_processing: true
          structured_output: true
          accuracy_tier: "good"
        validation_results:
          llama31_test:
            success_rate: 100
            stakeholder_extraction: "good"
            json_ld_compliance: "perfect"
            avg_confidence: 0.80
            cost_per_1k_tokens: "$0.0000"
            processing_time: "3-4 minutes"
            privacy_level: "complete"
            tested_date: "2025-01-09"
            
      guided_json_prompting:
        description: "Fallback method with enhanced prompting"
        applicable_models:
          - "llama3.1:8b-instruct-q8_0"
          - "any_available_model"
        capabilities:
          json_ld_support: false
          structured_output: "limited"
          accuracy_tier: "basic"
        validation_results:
          fallback_test:
            success_rate: 75
            stakeholder_extraction: "basic"
            json_ld_compliance: "none"
            avg_confidence: 0.70
            use_case: "emergency_fallback"
    
    strategy_selection:
      auto_model_selection:
        cost_priority: "llama3.1:8b-instruct-q8_0"      # Free local processing
        quality_priority: "openai/gpt-4o"                # Premium function calling
        speed_priority: "deepseek/DeepSeek-V3-0324"      # Fast JSON mode
        privacy_priority: "llama3.1:8b-instruct-q8_0"   # Local only
        default: "llama3.1:8b-instruct-q8_0"             # Cost-effective default
        
      fallback_chain:
        - "ollama_structured"      # Try local first
        - "json_mode_guided"       # Cloud fallback
        - "native_structured"      # Premium fallback
        - "guided_json_prompting"  # Emergency fallback
        
      model_availability_check: true
      auto_retry: true
      max_retry_attempts: 2

    performance_targets:
      accuracy: ">= 85%"
      processing_time: "< 5 minutes"
      cost_efficiency: "< $0.01 per document"
      availability: ">= 99%"
      
    production_config:
      timeout_seconds: 600           # 10 minutes for local processing
      max_document_length: 50000     # characters
      confidence_threshold: 0.3      # minimum stakeholder confidence
      enable_performance_tracking: true
      log_level: "INFO"

# Global configuration
global_config:
  version: "1.1.0"
  agent_type: "production_multi_model"
  validated_models: 3
  total_test_success_rate: 100
  production_ready: true
  last_validation: "2025-01-09"